<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Valentine ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(135deg,#ff4d6d,#ff8fa3,#ffc2d1);
  overflow:hidden;
  color:white;
  text-align:center;
}

/* Glass Card */
.card{
  backdrop-filter: blur(15px);
  background: rgba(255,255,255,0.15);
  border-radius:20px;
  padding:25px;
  width:90%;
  max-width:420px;
  margin:auto;
  margin-top:12vh;
  box-shadow:0 8px 30px rgba(0,0,0,0.2);
  animation:fade 1s;
}

@keyframes fade{
  from{opacity:0; transform:translateY(20px);}
  to{opacity:1; transform:translateY(0);}
}

input,button{
  padding:10px;
  border:none;
  border-radius:20px;
  margin-top:10px;
  width:80%;
}

button{
  background:white;
  color:#ff4d6d;
  font-weight:bold;
  cursor:pointer;
}

/* Floating Hearts */
.float{
  position:absolute;
  animation:float 8s linear infinite;
  font-size:18px;
}

@keyframes float{
  from{transform:translateY(100vh);}
  to{transform:translateY(-10vh);}
}

/* Gallery */
.gallery img{
  width:100px;
  height:100px;
  border-radius:15px;
  margin:8px;
  object-fit:cover;
  border:3px solid white;
  cursor:pointer;
  transition:0.3s;
}

.gallery img:hover{
  transform:scale(1.1);
}

/* Fullscreen Viewer */
.viewer{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.9);
  justify-content:center;
  align-items:center;
  z-index:999;
}

.viewer img{
  max-width:90%;
  max-height:90%;
  border-radius:10px;
}

.close{
  position:absolute;
  top:20px;
  right:30px;
  font-size:40px;
  color:white;
  cursor:pointer;
}

/* Love Letter */
.letter{
  font-family:'Dancing Script',cursive;
  font-size:22px;
  text-align:left;
  white-space:pre-line;
}
</style>
</head>
<body>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_4b1c0a7c56.mp3">
</audio>

<div id="app"></div>

<!-- Fullscreen Viewer -->
<div id="viewer" class="viewer" onclick="closeViewer()">
  <span class="close">&times;</span>
  <img id="viewerImg">
</div>

<script>
const app=document.getElementById("app");

/* Floating hearts */
setInterval(()=>{
  const el=document.createElement("div");
  el.className="float";
  el.style.left=Math.random()*100+"vw";
  el.innerHTML="‚ù§";
  document.body.appendChild(el);
  setTimeout(()=>el.remove(),8000);
},500);

/* Step 1 */
function start(){
  app.innerHTML=`
  <div class="card">
    <h2>üíñ Happy Valentine üíñ</h2>
    <p>Enter her name</p>
    <input id="name" placeholder="Her Name">
    <br>
    <button onclick="journey()">Start Love Journey ‚ù§Ô∏è</button>
    <br><br>
    <button onclick="toggleMusic()">üéµ Music</button>
  </div>`;
}

/* Music toggle */
function toggleMusic(){
  const music=document.getElementById("music");
  music.paused?music.play():music.pause();
}

/* Step 2 */
function journey(){
  const name=document.getElementById("name").value;
  if(!name){alert("Enter name ‚ù§Ô∏è");return;}
  localStorage.setItem("loveName",name);

  app.innerHTML=`
  <div class="card">
    <h2>Why I Love You, ${name} ‚ù§Ô∏è</h2>
    <p>Your smile is my favorite place to live.</p>
    <button onclick="gallery()">See Our Memories üì∏</button>
  </div>`;
}

/* Step 3 Gallery */
function gallery(){
  app.innerHTML=`
  <div class="card">
    <h2>Our Memories üì∏</h2>
    <div class="gallery">
      <img src="images/pic1.jpg" onclick="openViewer(this.src)">
      <img src="images/pic2.jpg" onclick="openViewer(this.src)">
      <img src="images/pic3.jpg" onclick="openViewer(this.src)">
    </div>
    <button onclick="letter()">Final Message ‚ù§Ô∏è</button>
  </div>`;
}

/* Fullscreen viewer */
function openViewer(src){
  document.getElementById("viewer").style.display="flex";
  document.getElementById("viewerImg").src=src;
}

function closeViewer(){
  document.getElementById("viewer").style.display="none";
}

/* Final love letter */
function letter(){
  const name=localStorage.getItem("loveName");

  app.innerHTML=`
  <div class="card letter">
  Dear ${name},

  Every love story is beautiful,
  but ours is my favorite.

  You are my today,
  my tomorrow,
  and my forever.

  No matter what happens,
  my heart will always choose you.

  Happy Valentine‚Äôs Day ‚ù§Ô∏è
  Forever Yours.
  </div>`;
}

start();
</script>

</body>
</html>
